<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마곡 6인 와인 회식 장소 선정 분석 보고서</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fdfbf7; /* Warm neutral background */
            color: #4a5568;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .btn-primary {
            background-color: #8B1E3F; /* Wine color */
            color: white;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #6d1630;
        }

        .tab-active {
            border-bottom: 2px solid #8B1E3F;
            color: #8B1E3F;
            font-weight: 700;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Wine Red (#8B1E3F) Accents. Background: #fdfbf7. Text: Slate Gray. -->
    <!-- Application Structure Plan: 
         1. Hero Section: Immediate presentation of the Final Verdict (Winner) to answer the core question first.
         2. Interactive Dashboard: 
            - Radar Chart for qualitative comparison (Atmosphere, Budget, Wine).
            - Dynamic Budget Simulator (Bar Chart) to visualize how the 1.2M KRW budget is utilized across venues, allowing users to add wine bottles and see impact.
         3. Venue Deep Dive: A detailed grid layout for each restaurant with pros/cons and specific data points.
         4. Decision Matrix: A tabular summary for quick scanning.
         5. Actionable Footer: Booking tips.
         Reasoning: This structure moves from the "Answer" -> "Evidence" -> "Simulation" -> "Details", catering to both executive decision-making and detailed exploration. 
    -->
    <!-- Visualization & Content Choices:
         - Radar Chart (Chart.js): To compare the three distinct criteria (Conversation, Budget Fit, Wine Match) visually.
         - Stacked Bar Chart (Chart.js): To demonstrate budget utilization (Food vs. Wine vs. Surplus). Interaction allows adjusting wine bottle count.
         - Cards with Unicode Icons: For venue details, avoiding SVGs/images while maintaining visual interest.
         - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-slate-800 tracking-tight">🍷 마곡 회식 의사결정 리포트</h1>
            <nav class="hidden md:flex space-x-6 text-sm font-medium">
                <a href="#verdict" class="hover:text-red-800 transition">최종 결론</a>
                <a href="#analysis" class="hover:text-red-800 transition">비교 분석</a>
                <a href="#simulation" class="hover:text-red-800 transition">예산 시뮬레이션</a>
                <a href="#details" class="hover:text-red-800 transition">상세 정보</a>
            </nav>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 space-y-12">

        <!-- Section 1: Introduction & Verdict -->
        <section id="verdict" class="max-w-4xl mx-auto text-center space-y-6 animate-fade-in-up">
            <div class="space-y-2">
                <p class="text-sm font-semibold text-red-700 uppercase tracking-wider">Decision Matrix Result</p>
                <h2 class="text-4xl md:text-5xl font-extrabold text-slate-900 leading-tight">
                    최고의 선택: <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-700 to-pink-600">설담 (Seoldam)</span>
                </h2>
            </div>
            
            <div class="bg-white p-8 rounded-2xl shadow-lg border border-red-100 transform transition duration-500 hover:scale-[1.01]">
                <p class="text-lg leading-relaxed text-slate-600 mb-6">
                    6인, 120만 원 예산, 그리고 와인. <br>
                    이 세 가지 조건을 완벽하게 충족하는 유일한 장소입니다.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left">
                    <div class="bg-red-50 p-4 rounded-xl">
                        <div class="text-2xl mb-2">🚪</div>
                        <h3 class="font-bold text-red-900 mb-1">프라이빗 룸</h3>
                        <p class="text-sm text-red-800">6인 단독 룸 확보 가능. 우리만의 대화에 집중할 수 있는 완벽한 환경.</p>
                    </div>
                    <div class="bg-red-50 p-4 rounded-xl">
                        <div class="text-2xl mb-2">💎</div>
                        <h3 class="font-bold text-red-900 mb-1">예산 최적화</h3>
                        <p class="text-sm text-red-800">최고급 시그니처 코스를 즐기고도 와인을 곁들일 여유가 있는 예산 구조.</p>
                    </div>
                    <div class="bg-red-50 p-4 rounded-xl">
                        <div class="text-2xl mb-2">🥩</div>
                        <h3 class="font-bold text-red-900 mb-1">호불호 없는 메뉴</h3>
                        <p class="text-sm text-red-800">한우와 한식 다이닝으로, 회를 못 먹는 팀원까지 모두 포용 가능.</p>
                    </div>
                </div>
            </div>
        </section>

        <hr class="border-slate-200">

        <!-- Section 2: Comparative Analysis Dashboard -->
        <section id="analysis">
            <div class="mb-8 text-center md:text-left">
                <h3 class="text-2xl font-bold text-slate-800 mb-3">⚖️ 3대 핵심 지표 비교 분석</h3>
                <p class="text-slate-600 max-w-2xl">
                    회식 장소 선정의 핵심 기준인 <strong>대화 편의성(프라이버시)</strong>, <strong>예산 활용 만족도</strong>, <strong>와인 궁합</strong>을 기준으로 세 후보지를 정량적으로 평가했습니다.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <!-- Radar Chart Container -->
                <div class="bg-white p-6 rounded-xl shadow-md border border-slate-100">
                    <h4 class="text-lg font-semibold mb-4 text-center text-slate-700">종합 역량 평가 (Radar Chart)</h4>
                    <div class="chart-container">
                        <canvas id="radarChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-slate-400 mt-2">* 넓은 영역을 차지할수록 회식 목적에 부합합니다.</p>
                </div>

                <!-- Text Analysis -->
                <div class="space-y-6">
                    <div class="group cursor-pointer p-4 rounded-lg bg-white border border-slate-200 hover:border-red-500 transition shadow-sm" onclick="highlightChart('설담')">
                        <div class="flex justify-between items-center mb-2">
                            <h4 class="font-bold text-lg text-red-800">1. 설담 (평점 5.0/5.0)</h4>
                            <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">Best Choice</span>
                        </div>
                        <p class="text-sm text-slate-600">
                            모든 지표에서 만점. 특히 <strong>독립된 룸</strong>과 한식 다이닝의 고급스러움이 '인당 20만 원'이라는 예산의 가치를 극대화합니다.
                        </p>
                    </div>

                    <div class="group cursor-pointer p-4 rounded-lg bg-white border border-slate-200 hover:border-blue-500 transition shadow-sm" onclick="highlightChart('다루마')">
                        <div class="flex justify-between items-center mb-2">
                            <h4 class="font-bold text-lg text-slate-800">2. 다루마 (평점 3.7/5.0)</h4>
                            <span class="bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">가성비</span>
                        </div>
                        <p class="text-sm text-slate-600">
                            예산 대비 가격이 저렴하여(VIP 8~9만 원) 돈이 많이 남습니다. 캐주얼한 분위기로 '고급 회식'의 느낌은 다소 부족할 수 있습니다.
                        </p>
                    </div>

                    <div class="group cursor-pointer p-4 rounded-lg bg-white border border-slate-200 hover:border-orange-500 transition shadow-sm" onclick="highlightChart('스시교메이')">
                        <div class="flex justify-between items-center mb-2">
                            <h4 class="font-bold text-lg text-slate-800">3. 스시교메이 (평점 2.3/5.0)</h4>
                            <span class="bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full">구조적 한계</span>
                        </div>
                        <p class="text-sm text-slate-600">
                            맛집이지만 <strong>다찌(카운터) 좌석</strong> 위주라 6명이 대화하기 불가능합니다. 와인보다는 사케 중심입니다.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Budget Simulation -->
        <section id="simulation" class="bg-slate-50 p-6 md:p-10 rounded-3xl border border-slate-200">
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-3">💰 예산 시뮬레이션 (총 120만 원)</h3>
                <p class="text-slate-600">
                    인당 식사 비용과 와인 추가 시 예상되는 총지출을 시뮬레이션해 보세요. <br>
                    <strong>설담</strong>은 식사비를 높여 만족도를 채우고, <strong>나머지 두 곳</strong>은 예산이 많이 남는 구조입니다.
                </p>
            </div>

            <div class="flex flex-col md:flex-row gap-8">
                <!-- Controls -->
                <div class="w-full md:w-1/3 space-y-8 bg-white p-6 rounded-xl shadow-sm h-fit">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-2">
                            🍷 추가 와인 병 수: <span id="bottleCountDisplay" class="font-bold text-red-700 text-lg">2</span>병
                        </label>
                        <input type="range" id="bottleInput" min="0" max="10" value="2" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-red-700">
                        <div class="flex justify-between text-xs text-slate-400 mt-1">
                            <span>0병</span>
                            <span>5병</span>
                            <span>10병</span>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-2">
                            🏷️ 와인 병당 평균 가격 예상:
                        </label>
                        <select id="winePriceInput" class="w-full border-slate-300 rounded-md shadow-sm focus:border-red-500 focus:ring focus:ring-red-200 p-2 border bg-slate-50">
                            <option value="50000">50,000원 (가성비)</option>
                            <option value="80000" selected>80,000원 (적당함)</option>
                            <option value="120000">120,000원 (프리미엄)</option>
                            <option value="200000">200,000원 (럭셔리)</option>
                        </select>
                    </div>

                    <div class="p-4 bg-red-50 rounded-lg border border-red-100">
                        <h5 class="font-bold text-red-900 text-sm mb-1">💡 Insight</h5>
                        <p id="budgetInsight" class="text-xs text-red-800 leading-relaxed">
                            설담 시그니처 코스 선택 시, 2병 정도의 와인을 곁들이면 예산 120만 원에 딱 맞습니다.
                        </p>
                    </div>
                </div>

                <!-- Bar Chart -->
                <div class="w-full md:w-2/3 bg-white p-4 rounded-xl shadow-sm border border-slate-100">
                     <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Detailed Breakdown -->
        <section id="details" class="space-y-8">
            <div class="text-center md:text-left">
                <h3 class="text-2xl font-bold text-slate-800">📍 후보지 상세 정보</h3>
                <p class="text-slate-600">각 식당의 주요 특징과 회식 적합성 상세 내역입니다.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1: Seoldam -->
                <div class="bg-white rounded-xl overflow-hidden shadow-lg border border-red-200 card-hover flex flex-col">
                    <div class="bg-red-800 p-4 text-white">
                        <h4 class="text-xl font-bold flex justify-between">설담 <span class="text-sm bg-white/20 px-2 py-1 rounded">1순위</span></h4>
                        <p class="text-red-100 text-sm">한식 파인 다이닝</p>
                    </div>
                    <div class="p-6 flex-grow space-y-4">
                        <ul class="space-y-2 text-sm text-slate-600">
                            <li class="flex items-start"><span class="mr-2">📍</span> 강서구 마곡동로3길 6 11층</li>
                            <li class="flex items-start"><span class="mr-2">💵</span> 코스: 7.9 ~ 15.9만 원</li>
                            <li class="flex items-start"><span class="mr-2">🍷</span> 콜키지: 관대함 (확인 필요)</li>
                        </ul>
                        <hr>
                        <div>
                            <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded font-bold mb-2">장점</span>
                            <p class="text-sm">독립 룸, 뷰 좋음, 호불호 없는 메뉴, 고급스러움.</p>
                        </div>
                        <div>
                            <span class="inline-block bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded font-bold mb-2">단점</span>
                            <p class="text-sm">인기가 많아 예약 마감이 빠름.</p>
                        </div>
                    </div>
                </div>

                <!-- Card 2: Daruma -->
                <div class="bg-white rounded-xl overflow-hidden shadow border border-slate-200 card-hover flex flex-col">
                    <div class="bg-slate-700 p-4 text-white">
                        <h4 class="text-xl font-bold">다루마</h4>
                        <p class="text-slate-300 text-sm">참치/사시미 오마카세</p>
                    </div>
                    <div class="p-6 flex-grow space-y-4">
                        <ul class="space-y-2 text-sm text-slate-600">
                            <li class="flex items-start"><span class="mr-2">📍</span> 강서구 마곡중앙5로1길 21 2층</li>
                            <li class="flex items-start"><span class="mr-2">💵</span> VIP 코스: 8~9만 원대</li>
                            <li class="flex items-start"><span class="mr-2">🍶</span> 주류: 사케 중심</li>
                        </ul>
                        <hr>
                        <div>
                            <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded font-bold mb-2">장점</span>
                            <p class="text-sm">가성비 우수, 해산물 신선함, 캐주얼한 분위기.</p>
                        </div>
                        <div>
                            <span class="inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded font-bold mb-2">단점</span>
                            <p class="text-sm">예산 대비 다소 저렴한 느낌, 소란스러울 수 있음.</p>
                        </div>
                    </div>
                </div>

                <!-- Card 3: Sushi Gyomei -->
                <div class="bg-white rounded-xl overflow-hidden shadow border border-slate-200 card-hover flex flex-col opacity-80">
                    <div class="bg-slate-500 p-4 text-white">
                        <h4 class="text-xl font-bold">스시교메이</h4>
                        <p class="text-slate-200 text-sm">스시 오마카세</p>
                    </div>
                    <div class="p-6 flex-grow space-y-4">
                        <ul class="space-y-2 text-sm text-slate-600">
                            <li class="flex items-start"><span class="mr-2">📍</span> 강서구 공항대로 227 2층</li>
                            <li class="flex items-start"><span class="mr-2">💵</span> 디너: 약 8만 원</li>
                            <li class="flex items-start"><span class="mr-2">🍣</span> 좌석: 다찌(카운터) 위주</li>
                        </ul>
                        <hr>
                        <div>
                            <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded font-bold mb-2">장점</span>
                            <p class="text-sm">스시 맛집, 2-3인 방문 시 최적.</p>
                        </div>
                        <div>
                            <span class="inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded font-bold mb-2">치명적 단점</span>
                            <p class="text-sm">일렬로 앉아 대화 불가능. 회식 장소로 구조적 부적합.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Summary Table -->
        <section class="overflow-x-auto bg-white rounded-xl shadow-sm border border-slate-200">
            <table class="min-w-full text-sm text-left">
                <thead class="bg-slate-100 text-slate-700 font-bold uppercase">
                    <tr>
                        <th class="px-6 py-4">구분</th>
                        <th class="px-6 py-4 text-red-700">설담 (추천)</th>
                        <th class="px-6 py-4">다루마</th>
                        <th class="px-6 py-4">스시교메이</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-slate-100 text-slate-600">
                    <tr class="hover:bg-slate-50">
                        <td class="px-6 py-4 font-semibold">대화 편의성</td>
                        <td class="px-6 py-4">⭐⭐⭐⭐⭐ (룸)</td>
                        <td class="px-6 py-4">⭐⭐⭐ (테이블)</td>
                        <td class="px-6 py-4">⭐ (카운터)</td>
                    </tr>
                    <tr class="hover:bg-slate-50">
                        <td class="px-6 py-4 font-semibold">예산 활용도</td>
                        <td class="px-6 py-4">⭐⭐⭐⭐⭐ (최적)</td>
                        <td class="px-6 py-4">⭐⭐⭐ (많이 남음)</td>
                        <td class="px-6 py-4">⭐⭐⭐⭐</td>
                    </tr>
                    <tr class="hover:bg-slate-50">
                        <td class="px-6 py-4 font-semibold">와인 궁합</td>
                        <td class="px-6 py-4">⭐⭐⭐⭐⭐ (Good)</td>
                        <td class="px-6 py-4">⭐⭐⭐ (사케 위주)</td>
                        <td class="px-6 py-4">⭐⭐ (제약 있음)</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-slate-300 py-10 mt-12">
        <div class="container mx-auto px-4 text-center space-y-4">
            <h3 class="text-xl font-bold text-white">💡 예약 및 준비 팁</h3>
            <p class="max-w-2xl mx-auto text-sm leading-relaxed">
                예약 시 반드시 <strong>"6인 단독 룸"</strong>을 요청하세요.<br>
                와인 콜키지 정책(병수 제한, 잔 교체 여부)을 전화로 사전 확인하시면 더욱 완벽한 회식이 될 것입니다.<br>
                추천: <strong>설담 시그니처 코스</strong> + 레드 와인 페어링
            </p>
            <div class="pt-6 text-xs text-slate-500">
                Generated from Source Report: 마곡_회식장소_비교분석_및_추천.md
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Data Store
        const venues = {
            '설담': {
                label: '설담',
                foodCost: 159000, // Signature Course Max
                scores: [5, 5, 5], // Conversation, Budget, Wine
                color: 'rgba(139, 30, 63, 0.7)',
                borderColor: 'rgba(139, 30, 63, 1)'
            },
            '다루마': {
                label: '다루마',
                foodCost: 90000, // VIP estimate
                scores: [3, 3, 3],
                color: 'rgba(74, 85, 104, 0.5)',
                borderColor: 'rgba(74, 85, 104, 1)'
            },
            '스시교메이': {
                label: '스시교메이',
                foodCost: 80000, // Dinner Omakase
                scores: [1, 4, 2],
                color: 'rgba(160, 174, 192, 0.5)',
                borderColor: 'rgba(160, 174, 192, 1)'
            }
        };

        const totalBudget = 1200000;
        const personCount = 6;

        // Chart Instances
        let radarChartInstance = null;
        let budgetChartInstance = null;

        // DOM Elements
        const bottleInput = document.getElementById('bottleInput');
        const bottleDisplay = document.getElementById('bottleCountDisplay');
        const winePriceInput = document.getElementById('winePriceInput');
        const budgetInsight = document.getElementById('budgetInsight');

        // Init Radar Chart
        function initRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['대화 편의성 (프라이버시)', '예산 활용 최적화', '와인 궁합'],
                    datasets: Object.values(venues).map(v => ({
                        label: v.label,
                        data: v.scores,
                        backgroundColor: v.color,
                        borderColor: v.borderColor,
                        borderWidth: 2,
                        pointBackgroundColor: v.borderColor
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: '#e2e8f0' },
                            grid: { color: '#e2e8f0' },
                            pointLabels: {
                                font: { size: 12, family: "'Noto Sans KR', sans-serif" },
                                color: '#4a5568'
                            },
                            suggestedMin: 0,
                            suggestedMax: 5,
                            ticks: { stepSize: 1, display: false }
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        // Init Budget Chart
        function initBudgetChart() {
            const ctx = document.getElementById('budgetChart').getContext('2d');
            
            budgetChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(venues),
                    datasets: [
                        {
                            label: '식사 비용 (6인)',
                            data: [], // Filled dynamically
                            backgroundColor: 'rgba(74, 85, 104, 0.8)',
                            stack: 'Stack 0',
                        },
                        {
                            label: '와인/주류 비용',
                            data: [], // Filled dynamically
                            backgroundColor: 'rgba(139, 30, 63, 0.8)', // Wine color
                            stack: 'Stack 0',
                        },
                        {
                            label: '남는 예산',
                            data: [], // Filled dynamically
                            backgroundColor: 'rgba(203, 213, 224, 0.4)',
                            stack: 'Stack 0',
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y', // Horizontal Bar
                    scales: {
                        x: {
                            stacked: true,
                            max: totalBudget * 1.1, // slightly more than budget for visual room
                            grid: { display: false },
                            ticks: {
                                callback: function(value) {
                                    return (value / 10000) + '만원';
                                }
                            }
                        },
                        y: {
                            stacked: true,
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.raw.toLocaleString() + '원';
                                }
                            }
                        },
                        legend: { position: 'bottom' },
                        annotation: {
                            annotations: {
                                line1: {
                                    type: 'line',
                                    xMin: totalBudget,
                                    xMax: totalBudget,
                                    borderColor: 'rgb(255, 99, 132)',
                                    borderWidth: 2,
                                    borderDash: [5, 5],
                                    label: {
                                        content: '예산 한도 (120만원)',
                                        enabled: true,
                                        position: 'top'
                                    }
                                }
                            }
                        }
                    }
                }
            });
        }

        // Update Logic
        function updateSimulation() {
            const bottleCount = parseInt(bottleInput.value);
            const winePrice = parseInt(winePriceInput.value);
            const totalWineCost = bottleCount * winePrice;

            bottleDisplay.textContent = bottleCount;

            const foodData = [];
            const wineData = [];
            const surplusData = [];
            const labels = [];

            let insightText = "";

            Object.entries(venues).forEach(([key, venue]) => {
                labels.push(key);
                const totalFood = venue.foodCost * personCount;
                
                foodData.push(totalFood);
                wineData.push(totalWineCost);

                const currentTotal = totalFood + totalWineCost;
                const surplus = totalBudget - currentTotal;
                
                surplusData.push(surplus > 0 ? surplus : 0);
            });

            // Update Budget Chart Data
            budgetChartInstance.data.datasets[0].data = foodData;
            budgetChartInstance.data.datasets[1].data = wineData;
            budgetChartInstance.data.datasets[2].data = surplusData;
            budgetChartInstance.update();

            // Dynamic Insight Logic for Seoldam
            const seoldamTotal = (venues['설담'].foodCost * personCount) + totalWineCost;
            if (seoldamTotal <= totalBudget) {
                insightText = `✅ <strong>설담</strong> 선택 시, 와인 ${bottleCount}병(${winePrice.toLocaleString()}원/병)을 포함해도 약 ${(totalBudget - seoldamTotal).toLocaleString()}원의 예산 여유가 있습니다. 완벽한 계획입니다.`;
                budgetInsight.parentElement.className = "p-4 bg-green-50 rounded-lg border border-green-100";
                budgetInsight.parentElement.querySelector('h5').className = "font-bold text-green-900 text-sm mb-1";
                budgetInsight.className = "text-xs text-green-800 leading-relaxed";
            } else {
                insightText = `⚠️ <strong>설담</strong> 선택 시 예산이 약 ${(seoldamTotal - totalBudget).toLocaleString()}원 초과됩니다. 와인 가격을 조정하거나 병 수를 ${bottleCount - 1}병 이하로 줄여보세요.`;
                budgetInsight.parentElement.className = "p-4 bg-red-50 rounded-lg border border-red-100";
                budgetInsight.parentElement.querySelector('h5').className = "font-bold text-red-900 text-sm mb-1";
                budgetInsight.className = "text-xs text-red-800 leading-relaxed";
            }
            budgetInsight.innerHTML = insightText;
        }

        // Interaction: Highlight Radar Chart on Card Click
        function highlightChart(venueName) {
            const datasetIndex = Object.keys(venues).indexOf(venueName);
            
            // Dim others
            radarChartInstance.data.datasets.forEach((ds, idx) => {
                if (idx === datasetIndex) {
                    ds.backgroundColor = venues[venueName].color.replace('0.5', '0.8').replace('0.7', '0.9');
                    ds.borderWidth = 4;
                } else {
                    ds.backgroundColor = 'rgba(200, 200, 200, 0.1)';
                    ds.borderWidth = 1;
                }
            });
            radarChartInstance.update();

            // Scroll to chart
            document.getElementById('analysis').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initRadarChart();
            initBudgetChart();
            updateSimulation();

            // Event Listeners
            bottleInput.addEventListener('input', updateSimulation);
            winePriceInput.addEventListener('change', updateSimulation);
        });

    </script>
</body>
</html>
